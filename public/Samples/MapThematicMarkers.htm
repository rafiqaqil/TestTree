<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Map Thematic Markers | JSCharting</title>
    <meta http-equiv="content-type" content="text-html; charset=utf-8" />

    <script type="text/javascript" src="../jsc/jscharting.js"></script>

    <script type="text/javascript" src="../jsc/modules/toolbar.js"></script>
    <script type="text/javascript" src="../jsc/modules/maps.js"></script>
    <script type="text/javascript" src="../jsc/icons/material/maps/place.js"></script>

    <link rel="stylesheet" type="text/css" href="css/default.css" />
    <style type="text/css">
      /*CSS*/
    </style>
  </head>
  <body>
    <div id="chartDiv" style="max-width: 740px;height: 400px;margin: 0px auto;"></div>

    <script type="text/javascript">
      /*
Thematic point map layer markers.
Learn how to:

  - Make thematic maps.
  - Map points from mapCodes.
  - Show a SmartPalette in the legend.
  - Set Default Map Padding.
  - Standard bubble series on maps.
  - Map points from mapFiles.
*/
      // JS
      var capitalNames = [
        'Montpelier',
        'Dover',
        'Annapolis',
        'Carson City',
        'Little Rock',
        'Jefferson City',
        'Hartford',
        'Providence',
        'Springfield',
        'Frankfort',
        'Madison',
        'Trenton',
        'Lansing',
        'Lincoln',
        'Concord',
        'Columbus',
        'Albany',
        'Harrisburg',
        'Olympia',
        'Salem',
        'Topeka',
        'Baton Rouge',
        'Austin',
        'Montgomery',
        'Tallahassee',
        'Columbia',
        'Indianapolis',
        'Richmond',
        'Charleston',
        'Augusta',
        'Helena',
        'Bismarck',
        'Boise',
        'Sacramento',
        'Santa Fe',
        'Salt Lake City',
        'Cheyenne',
        'Des Moines',
        'Oklahoma City',
        'Pierre',
        'Jackson',
        'Raleigh',
        'Nashville',
        'Phoenix',
        'Boston',
        'Denver',
        'Atlanta'
      ];

      var chart = JSC.chart('chartDiv', {
        debug: true,
        type: 'map',
        toolbar_position: 'inside bottom right',
        title_label_text: 'State Capitals & Populations',
        mapping: {
          referenceLayers: 'resources/UsCapitals.json.txt',
          base: { layers: 'us' }
        },
        /* Pad the map data points for margin against the chart area boundary */
        defaultSeries_shape_padding: 0.23,
        palette: {
          /* A function to get the point value performs better. */
          pointValue: function(p) {
            return p.options('z');
          },
          invert: true,
          colors: ['#8b0000', '#ff0000', '#ffa500', '#fefe20', '#00e700']
        },
        series: [
          {
            id: 'bubbleSer',
            name: 'Capitals',
            type: 'marker',
            opacity: 0.6,
            defaultPoint_marker: { type: 'material/maps/place', size: 20, offset: '1,-10' },
            points: capitalNames.map(function(n) {
              var mapId = 'UsCapitals.' + n;
              return { map: mapId, z: Math.random() * 1000 };
            })
          }
        ]
      });
    </script>
  </body>
</html>
